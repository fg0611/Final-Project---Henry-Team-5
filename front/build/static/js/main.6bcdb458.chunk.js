(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{170:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(12),i=a.n(r),o=a(9),s=a(57),u=a.n(s),l=a(62),d=a(102),j=a(7),b={products:[],product:[],message:{}};var p={categories:[],response:{},success:{},error:""};var O=a(115),m=a(13),h=a.n(m),x=a(22),g=a(103),f=a.n(g),v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Wargning",t=arguments.length>1?arguments[1]:void 0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"error",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"OK",c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:8e3;f.a.fire({title:e,text:t,icon:a,confirmButtonText:n,timer:c})},y="ADD_TO_CART",C="REMOVE_FROM_CART",E="CART_RESET",w="CHANGE_PRODUCT_QTY",S=function(e,t){return function(){var a=Object(x.a)(h.a.mark((function a(n,c){var r,i;return h.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,u.a.get("/product/detail/".concat(e));case 2:r=a.sent,i=r.data,n({type:y,payload:{uuid:i.uuid,name:i.name,image:i.image,price:i.price,stock:i.stock,qty:t}}),v("Agregado","success","OK"),localStorage.setItem("cart",JSON.stringify(c().cart.cartItems));case 7:case"end":return a.stop()}}),a)})));return function(e,t){return a.apply(this,arguments)}}()},T={cartItems:[]};var k={message:{}};var R={order:[]};var _=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||l.c,N=localStorage.getItem("cart")?JSON.parse(localStorage.getItem("cart")):[],I=Object(l.b)({products:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_PRODUCTS":return Object(j.a)(Object(j.a)({},e),{},{products:t.payload});case"POST_PRODUCT":return Object(j.a)(Object(j.a)({},e),{},{message:t.payload});case"GET_PRODUCT":return Object(j.a)(Object(j.a)({},e),{},{product:t.payload});default:return e}},categories:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_CATEGORIES":case"GET_CATEGORY_BY_NAME":return Object(j.a)(Object(j.a)({},e),{},{categories:t.payload});case"ADD_CATEGORY":case"SUCCESS":return Object(j.a)(Object(j.a)({},e),{},{success:t.payload});case"DELETE_SUCCESS":return Object(j.a)(Object(j.a)({},e),{},{success:{}});case"ERROR":return Object(j.a)(Object(j.a)({},e),{},{error:t.payload});case"DELETE_ERROR":return Object(j.a)(Object(j.a)({},e),{},{error:""});default:return e}},cart:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case y:var a=t.payload,n=e.cartItems.find((function(e){return e.uuid===a.uuid}));return n?Object(j.a)(Object(j.a)({},e),{},{cartItems:e.cartItems.map((function(e){return e.uuid===n.uuid?e=a:e}))}):Object(j.a)(Object(j.a)({},e),{},{cartItems:[].concat(Object(O.a)(e.cartItems),[a])});case C:return Object(j.a)(Object(j.a)({},e),{},{cartItems:e.cartItems.filter((function(e){return e.uuid!==t.payload}))});case E:return Object(j.a)(Object(j.a)({},e),{},{cartItems:t.payload});case w:var c=t.payload,r=c.productId,i=c.qty;return console.log(t.payload),e.cartItems.forEach((function(e){return e.uuid===r?e.qty=i:e})),Object(j.a)(Object(j.a)({},e),{},{cartItems:e.cartItems});default:return e}},cartInLocalStorage:N,users:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_USER":return Object(j.a)(Object(j.a)({},e),{},{message:t.payload});default:return e}},orders:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:R,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CREATE_ORDER":case"UPDATE_ORDER":return Object(j.a)(Object(j.a)({},e),{},{order:t.payload});default:return e}}}),D=Object(l.d)(I,_(Object(l.a)(d.a))),A=a(25),P=a(215),U=a(113),L=a(197),G=Object(U.a)({palette:{primary:{main:L.a[700]}}}),B=a(107),J=a.n(B),W=a(16),M=a(20),q=a(19),K=(a(57),function(){return function(){var e=Object(x.a)(h.a.mark((function e(t){var a,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/category/");case 3:return n=e.sent,e.next=6,n.json();case 6:a=e.sent,t({type:"GET_CATEGORIES",payload:a}),e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(0),t({type:"ERROR",payload:a}),e.abrupt("return",{error:e.t0});case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}()}),Y=a(199),F=a(63),H=a(216),V=a(201),z=a(217),$=a(203),X=a(172),Q=Object(X.a)({container:{height:"100%",display:"flex",flexDirection:"column"},select:{width:"100%"},image:{objectFit:"cover",width:"100%",maxHeight:"300px"}}),Z=a(2),ee={name:"",image:""};function te(){var e=Q(),t=Object(n.useState)(ee),a=Object(q.a)(t,2),c=a[0],r=a[1],i=Object(n.useState)({name:""}),s=Object(q.a)(i,2),u=s[0],l=s[1],d=Object(o.b)();Object(n.useEffect)((function(){d(K())}),[d]);var b=Object(o.c)((function(e){return e.categories.categories})),p=Object(o.c)((function(e){return e.categories.success}));Object(n.useEffect)((function(){}),[b]),Object(n.useEffect)((function(){(null===p||void 0===p?void 0:p.category)&&(l({value:p.category.uuid}),document.getElementById("categoryImage").setAttribute("src",p.category.image),d(function(){var e=Object(x.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:"DELETE_SUCCESS"});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),m())}),[p]);var O=function(e){r(Object(j.a)(Object(j.a)({},c),{},Object(M.a)({},e.target.name,e.target.value)))},m=function(){r({name:"",image:""})};return Object(Z.jsx)(Z.Fragment,{children:Object(Z.jsxs)(Y.a,{container:!0,className:e.container,maxWidth:"md",children:[Object(Z.jsx)(F.a,{align:"center",variant:"h4",children:"Crear Categor\xeda"}),Object(Z.jsxs)(H.a,{id:"new-category-section",border:1,borderRadius:16,borderColor:"grey.500",children:[Object(Z.jsx)(H.a,{p:3,children:Object(Z.jsxs)(V.a,{container:!0,id:"inputsContainer",spacing:4,children:[Object(Z.jsx)(V.a,{item:!0,xs:12,sm:6,children:Object(Z.jsx)(z.a,{fullWidth:!0,variant:"outlined",label:"Categor\xeda",placeholder:"Escribir una categoria...",name:"name",id:"categoryName",value:c.name,onChange:O,onKeyPress:function(e){if(b&&0!==b.length){var t=e.target.value;d(function(e){return function(){var t=Object(x.a)(h.a.mark((function t(a){var n,c;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=[],t.prev=1,t.next=4,fetch("/category/byName?name=".concat(e));case 4:return c=t.sent,t.next=7,c.json();case 7:if((n=t.sent).error){t.next=11;break}return t.next=11,a({type:"GET_CATEGORY_BY_NAME",payload:n});case 11:t.next=18;break;case 13:return t.prev=13,t.t0=t.catch(1),t.next=17,a({type:"ERROR",payload:n});case 17:return t.abrupt("return",{error:t.t0});case 18:case"end":return t.stop()}}),t,null,[[1,13]])})));return function(e){return t.apply(this,arguments)}}()}(t))}}})}),Object(Z.jsx)(V.a,{item:!0,xs:12,sm:6,children:Object(Z.jsx)(z.a,{variant:"outlined",fullWidth:!0,label:"Url de la imagen",name:"image",type:"text",id:"categoryUrlImage",placeholder:"Escribir el url de la imagen...",value:c.image,onChange:O})})]})}),Object(Z.jsx)(H.a,{p:3,children:Object(Z.jsxs)(V.a,{container:!0,spacing:4,id:"selectImageContainer",children:[Object(Z.jsx)(V.a,{item:!0,xs:12,sm:6,children:Object(Z.jsx)("select",{className:e.select,size:"15",onChange:function(e){var t=e.target.options[e.target.selectedIndex].getAttribute("data-img");document.getElementById("categoryImage").setAttribute("src",t);var a=e.target.options[e.target.selectedIndex].getAttribute("value");l({value:a})},value:u.value,children:null===b||void 0===b?void 0:b.sort((function(e,t){return e.name<t.name?-1:e.name>t.name?1:0})).map((function(e){return Object(Z.jsx)("option",{value:e.uuid,"data-img":e.image,children:e.name},e.uuid)}))})}),Object(Z.jsx)(V.a,{item:!0,c:!0,xs:12,sm:6,children:Object(Z.jsx)("img",{className:e.image,id:"categoryImage",alt:"Foto categor\xeda no disponible..."})})]})}),Object(Z.jsx)(H.a,{p:3,children:Object(Z.jsxs)(V.a,{container:!0,spacing:4,children:[Object(Z.jsx)(V.a,{item:!0,xm:12,sm:6,children:Object(Z.jsx)($.a,{variant:"contained",color:"secondary",fullWidth:!0,children:"Eliminar Categor\xeda"})}),Object(Z.jsx)(V.a,{item:!0,xm:12,sm:6,children:Object(Z.jsx)($.a,{variant:"contained",fullWidth:!0,color:"primary",onClick:function(){var e;!c.name||c.name.length<3?v("Atenci\xf3n","El nombre de la categoria es requerido y debe tener al menos 3 caracteres","warning","OK",5e3):!c.image||c.image.length<3?v("Atenci\xf3n","La imagen es requerida y debe tener al menos 3 caracteres","warning","OK",5e3):d((e=c,function(){var t=Object(x.a)(h.a.mark((function t(a){var n,c;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch("/category/create",{method:"POST",body:JSON.stringify(e),mode:"cors",headers:{"Content-type":"application/json"}});case 3:return n=t.sent,t.next=6,n.json();case 6:if(!(c=t.sent).error){t.next=9;break}return t.abrupt("return",a({type:"ERROR",payload:c}));case 9:return a({type:"SUCCESS",payload:c}),a({type:"ADD_CATEGORY",payload:c}),t.next=13,K()(a);case 13:t.next=18;break;case 15:return t.prev=15,t.t0=t.catch(0),t.abrupt("return",{error:t.t0});case 18:case"end":return t.stop()}}),t,null,[[0,15]])})));return function(e){return t.apply(this,arguments)}}()))},children:"Crear Categor\xeda"})})]})})]})]})})}var ae=function(){return function(e){return fetch("/product").then((function(e){return e.json()})).then((function(t){e({type:"GET_PRODUCTS",payload:t})}))}},ne=function(e){console.log(e);try{return function(){var t=Object(x.a)(h.a.mark((function t(a){var n,c;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("/product/detail/".concat(e));case 2:return n=t.sent,t.next=5,n.json();case 5:c=t.sent,a({type:"GET_PRODUCT",payload:c});case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}catch(t){console.log(t)}},ce=a(204),re=a(202),ie=a(205),oe=a(206),se=a(41),ue=a(40),le=Object(ce.a)();function de(){le();var e=Object(n.useState)(""),t=Object(q.a)(e,2),a=t[0],c=t[1],r=Object(o.b)(),i=Object(W.e)();return Object(Z.jsx)("form",{onSubmit:function(e){var t;e.preventDefault(),""!==a&&(r((t=a,function(){var e=Object(x.a)(h.a.mark((function e(a){var n,c;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/product/search?name=".concat(t));case 2:return n=e.sent,e.next=5,n.json();case 5:c=e.sent,a({type:"GET_PRODUCTS",payload:c});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())),i.push("/products/search?name=".concat(a)),c(""))},children:Object(Z.jsx)(re.a,{placeholder:"Buscar...",onChange:function(e){return function(e){e.preventDefault(),c(e.target.value)}(e)},endAdornment:Object(Z.jsx)(ie.a,{position:"end",children:Object(Z.jsx)(oe.a,{type:"submit",children:Object(Z.jsx)(ue.a,{icon:se.c,color:"#404040"})})})})})}var je=function(){var e=Object(o.b)(),t=Object(W.e)();Object(n.useEffect)((function(){e(K())}),[e]);var a=Object(o.c)((function(e){return e.categories.categories})),c=[];return a.length>0&&(c=a.map((function(e){return Object(Z.jsx)("option",{value:e.uuid,children:e.name},e.uuid)}))),Object(Z.jsx)("div",{children:Object(Z.jsxs)("select",{id:"categorias",onChange:function(a){var n;"Categorias"!==a.target.value&&("Todas"===a.target.value?(e(ae()),t.push("/products"),window.scrollTo(0,0)):(e((n=a.target.value,function(){var e=Object(x.a)(h.a.mark((function e(t){var a,c;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/product/filterByCategory?uuid=".concat(n));case 3:return a=e.sent,e.next=6,a.json();case 6:c=e.sent,console.log(c),t({type:"GET_PRODUCTS",payload:c}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}())),t.push("/products"),window.scrollTo(0,0)))},defaultValue:"categorias",children:[Object(Z.jsx)("option",{defaultValue:!0,selected:!0,children:"Categorias"}),Object(Z.jsx)("option",{value:"Todas",children:"Todas"}),c]})})},be=a(21),pe=a(114),Oe=a(218),me=a(207),he=a(208),xe=Object(ce.a)((function(e){return{grow:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:Object(M.a)({display:"none"},e.breakpoints.up("sm"),{display:"block"}),search:Object(M.a)({position:"relative",borderRadius:e.shape.borderRadius,backgroundColor:Object(be.b)(e.palette.common.white,.15),"&:hover":{backgroundColor:Object(be.b)(e.palette.common.white,.25)},marginRight:e.spacing(2),marginLeft:0,width:"100%"},e.breakpoints.up("sm"),{marginLeft:e.spacing(3),width:"auto"}),inputRoot:{color:"inherit"},inputInput:Object(M.a)({padding:e.spacing(1,1,1,0),paddingLeft:"calc(1em + ".concat(e.spacing(4),"px)"),transition:e.transitions.create("width"),width:"100%"},e.breakpoints.up("md"),{width:"20ch"}),sectionDesktop:Object(M.a)({display:"none"},e.breakpoints.up("md"),{display:"flex"}),sectionMobile:Object(M.a)({display:"flex"},e.breakpoints.up("md"),{display:"none"})}})),ge=function(){var e=Object(W.e)(),t=xe(),a=c.a.useState(null),n=Object(q.a)(a,2),r=n[0],i=n[1],o=Boolean(r),s=function(){i(null)},u=Object(Z.jsx)(pe.a,{anchorEl:r,anchorOrigin:{vertical:"top",horizontal:"right"},id:"primary-search-account-menu",keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:o,onClose:s,children:Object(Z.jsxs)(Oe.a,{onClick:s,children:[Object(Z.jsx)(oe.a,{children:Object(Z.jsx)(A.b,{to:"/products",children:"Products"})}),Object(Z.jsx)(oe.a,{children:Object(Z.jsx)(A.b,{to:"/user/add",children:"Nuevo Usuario"})})]})});return Object(Z.jsxs)("div",{className:t.grow,children:[Object(Z.jsx)(me.a,{position:"static",children:Object(Z.jsxs)(he.a,{children:[Object(Z.jsx)(oe.a,{edge:"start",className:t.menuButton,color:"inherit","aria-label":"open drawer",onClick:function(e){i(e.currentTarget)},children:Object(Z.jsx)(ue.a,{icon:se.a})}),Object(Z.jsx)(oe.a,{color:"inherit",children:Object(Z.jsx)(A.b,{to:"/",children:Object(Z.jsx)(F.a,{className:t.title,variant:"h6",noWrap:!0,children:"HEALTHY-HENRY"})})}),Object(Z.jsx)("div",{className:t.search,children:Object(Z.jsx)(de,{})}),Object(Z.jsx)(Oe.a,{children:Object(Z.jsx)(je,{})}),Object(Z.jsx)("div",{className:t.grow}),Object(Z.jsxs)("div",{className:t.sectionDesktop,children:[Object(Z.jsx)(oe.a,{color:"inherit","aria-label":"agregar",onClick:function(){e.push("/cart"),window.scroll(0,0)},children:Object(Z.jsx)(ue.a,{icon:se.b})}),Object(Z.jsx)(oe.a,{color:"inherit",children:Object(Z.jsx)(ue.a,{icon:se.d})})]}),Object(Z.jsx)("div",{className:t.sectionMobile,children:Object(Z.jsx)(oe.a,{"aria-label":"show more","aria-haspopup":"true",color:"inherit"})})]})}),u]})},fe=a(4),ve=a(209),ye=a(210),Ce=a(211),Ee=a(212),we=a(213),Se=a(214),Te=a(219),ke=a(76),Re=a(110),_e=a.n(Re),Ne=a(111),Ie=a.n(Ne),De=a(112),Ae=a.n(De),Pe=a(109),Ue=a.n(Pe),Le=a.p+"static/media/default.f449b1dd.svg",Ge=Object(ce.a)((function(e){return{root:{maxWidth:700,boxShadow:"0 0 30px",marginLeft:"500px",background:"#f3f6f7"},media:{height:0,paddingTop:"56.25%"},expand:{transform:"rotate(0deg)",marginLeft:"auto",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest})},expandOpen:{transform:"rotate(180deg)"},avatar:{backgroundColor:ke.a[500]}}}));function Be(e){var t=e.location.pathname.split("/")[3],a=Object(o.b)();Object(n.useEffect)((function(){a(ne(t))}),[a]);var r,i=Object(n.useState)(0),s=Object(q.a)(i,2),u=s[0],l=s[1],d=Ge(),j=c.a.useState(!1),b=Object(q.a)(j,2),p=b[0],O=b[1],m=Object(o.c)((function(e){return e.products.product}));return r=m.stock>0?Object(Z.jsxs)("div",{children:[Object(Z.jsxs)("p",{children:["Stock: ",m.stock]}),Object(Z.jsx)("input",{type:"number",placeholder:"",value:u,onChange:function(e){l(e.target.value),m.stock<u&&(l(m.stock),e.target.value=m.stock)}}),Object(Z.jsx)("button",{value:m.uuid,onClick:function(){u<=m.stock&&a(S(m.uuid,u))},children:"Agregar al Carrito"})]}):Object(Z.jsxs)("div",{children:[Object(Z.jsx)("p",{children:"Stock: Sin Stock"}),Object(Z.jsx)("button",{value:m.uuid,disabled:!0,children:"Agregar al Carrito"})]}),Object(Z.jsxs)(ve.a,{className:d.root,children:[Object(Z.jsx)(ye.a,{avatar:Object(Z.jsx)(Te.a,{"aria-label":"recipe",className:d.avatar,children:"diet"}),action:Object(Z.jsx)(oe.a,{"aria-label":"settings",children:Object(Z.jsx)(Ue.a,{})}),title:m.name}),Object(Z.jsx)(Ce.a,{className:d.media,image:m.image||"https://lh3.googleusercontent.com/proxy/lDX77oEN-GsT0mLlLb6s3Y0sf3-EG9S3dqBV7cOsOrSSJ9_mlEtMb9I-nIj469riZT-Q3EA2N4nP6gzt-iwoSuOR_Fihd8cC",title:m.name}),Object(Z.jsxs)(Ee.a,{children:[Object(Z.jsxs)(F.a,{variant:"body",color:"primary",component:"p",children:["Descripci\xf3n: ",m.description]}),Object(Z.jsxs)(F.a,{variant:"body2",color:"primary",component:"p",children:["Precio: $",m.price,",00"]}),Object(Z.jsxs)(F.a,{variant:"body2",color:"primary",component:"p",children:["Categorias del Producto:",m.categories]}),Object(Z.jsx)(F.a,{variant:"body2",color:"primary",component:"p",children:r})]}),Object(Z.jsxs)(we.a,{disableSpacing:!0,children:[Object(Z.jsx)(oe.a,{"aria-label":"add to favorites",children:Object(Z.jsx)(_e.a,{})}),Object(Z.jsx)(oe.a,{"aria-label":"share",children:Object(Z.jsx)(Ie.a,{})}),Object(Z.jsx)(oe.a,{className:Object(fe.a)(d.expand,Object(M.a)({},d.expandOpen,p)),onClick:function(){O(!p)},"aria-expanded":p,"aria-label":"show more",children:Object(Z.jsx)(Ae.a,{})})]}),Object(Z.jsx)(Se.a,{in:p,timeout:"auto",unmountOnExit:!0,children:Object(Z.jsx)(Ee.a,{})})]})}var Je=a(77),We=Object(ce.a)((function(e){return{root:{maxWidth:345,boxShadow:"0 0 50px rgb(234, 232, 300)",marginTop:"20px",display:"flex",flexDirection:"column"},media:{height:0,paddingTop:"56.25%"},expand:{transform:"rotate(0deg)",marginLeft:"auto",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest})},expandOpen:{transform:"rotate(180deg)"},avatar:{backgroundColor:Je.a[500]}}}));function Me(e){var t=e.uuid,a=e.name,n=e.description,c=e.image,r=e.price,i=Object(o.b)(),s=Object(W.e)();var u=We();return Object(Z.jsxs)(ve.a,{onClick:function(e){i(ne(t)),s.push("/product/detail/"+t),window.scrollTo(0,0)},className:u.root,children:[Object(Z.jsx)(ye.a,{avatar:Object(Z.jsx)(Te.a,{"aria-label":"recipe",className:u.avatar,children:"diet"}),title:a}),Object(Z.jsx)(Ce.a,{className:u.media,image:c||Le,title:a}),Object(Z.jsx)(Ee.a,{children:Object(Z.jsxs)(F.a,{variant:"body2",color:"textSecondary",component:"p",children:[n," ",Object(Z.jsx)("hr",{}),"$",r]})}),Object(Z.jsxs)(we.a,{disableSpacing:!0,children:[Object(Z.jsx)(oe.a,{"aria-label":"agregar",onClick:function(e,t){i(S(e,t)),window.scrollTo(0,0)},children:Object(Z.jsx)(ue.a,{icon:se.b})}),Object(Z.jsxs)($.a,{color:"primary",variant:"outlined",children:[" ","COMPRAR"," "]})]}),Object(Z.jsx)(Se.a,{in:u.expand,timeout:"auto",unmountOnExit:!0})]})}function qe(){var e=Object(o.b)(),t=Object(o.c)((function(e){return e.products.products}));Object(n.useEffect)((function(){e(ae())}),[e]);var a=[];return a=t.message?Object(Z.jsx)("h1",{children:"No se encontraron Productos en esta Categoria"}):t.map((function(e){return Object(Z.jsx)(Me,{uuid:e.uuid,name:e.name,description:e.description,image:e.image,price:e.price,stock:e.stock},e.uuid)})),Object(Z.jsxs)("div",{children:[Object(Z.jsx)("h1",{children:"Products"}),a]})}var Ke=a(75);function Ye(){var e=Object(o.b)(),t=Object(o.c)((function(e){return e})),a=t.categories.categories,c=t.products.loading,r=t.products.message;Object(n.useEffect)((function(){e(K())}),[]);var i=Object(n.useState)({name:"",description:"",price:"",stock:"",categories:[]}),s=Object(q.a)(i,2),u=s[0],l=s[1],d=function(e){l(Object(j.a)(Object(j.a)({},u),{},Object(M.a)({},e.target.name,e.target.value)))};return c?Object(Z.jsx)("div",{children:Object(Z.jsx)("h1",{children:" LOADING... "})}):Object(Z.jsx)("div",{children:Object(Z.jsxs)("form",{onSubmit:function(t){t.preventDefault(),e(function(e){return function(){var t=Object(x.a)(h.a.mark((function t(a){var n,c;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("/product/create",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});case 2:return n=t.sent,t.next=5,n.json();case 5:c=t.sent,a({type:"POST_PRODUCT",payload:c});case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(u))},children:[Object(Z.jsxs)("div",{children:[Object(Z.jsx)("section",{children:Object(Z.jsx)("input",{type:"text",placeholder:"Nombre",name:"name",onChange:d})}),Object(Z.jsx)("section",{children:Object(Z.jsx)("input",{type:"text",placeholder:"Descripci\xf3n",name:"description",onChange:d})}),Object(Z.jsxs)("section",{children:["$",Object(Z.jsx)("input",{type:"number",placeholder:"Precio",name:"price",onChange:d})]}),Object(Z.jsx)("section",{children:Object(Z.jsx)("input",{type:"number",placeholder:"Stock",name:"stock",onChange:d})})]}),Object(Z.jsxs)("div",{children:[Object(Z.jsx)("label",{for:"mainPic",children:"Imagenes del Producto:"}),Object(Z.jsx)("input",{type:"file",id:"mainPic",name:"mainPic",accept:"image/jpeg"})]}),Object(Z.jsx)("select",{multiple:!0,name:"categories",onChange:function(e){e.preventDefault();var t,a=e.target.options,n=[],c=Object(Ke.a)(a);try{for(c.s();!(t=c.n()).done;){var r=t.value;r.selected&&n.push(r.value)}}catch(i){c.e(i)}finally{c.f()}l(Object(j.a)(Object(j.a)({},u),{},{categories:n}))},required:!0,children:null===a||void 0===a?void 0:a.map((function(e){return Object(Z.jsx)("option",{value:e.name,children:e.name},e.uuid)}))}),Object(Z.jsx)("input",{type:"submit",value:"Agregar"}),Object(Z.jsx)("div",{children:r.message})]})})}var Fe=function(){return Object(o.c)((function(e){return e.products.products})).map((function(e){return Object(Z.jsx)(Me,{uuid:e.uuid,name:e.name,description:e.description,image:e.image,price:e.price,stock:e.stock},e.uuid)}))};function He(){var e=Object(o.b)(),t=Object(o.c)((function(e){return e})).users.message,a=Object(n.useState)({userName:"",email:"",password:"",confirmPassword:"",isAdmin:""}),c=Object(q.a)(a,2),r=c[0],i=c[1],s=function(e){i(Object(j.a)(Object(j.a)({},r),{},Object(M.a)({},e.target.name,e.target.value)))};return Object(Z.jsx)("div",{children:Object(Z.jsxs)("form",{onSubmit:function(t){t.preventDefault(),e(function(e){return function(){var t=Object(x.a)(h.a.mark((function t(a){var n,c;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(console.log(e),e.password!==e.confirmPassword){t.next=11;break}return t.next=4,fetch("/users/create",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});case 4:return n=t.sent,t.next=7,n.json();case 7:c=t.sent,a({type:"ADD_USER",payload:c}),t.next=12;break;case 11:a({type:"ADD_USER",payload:{message:"Las contrase\xf1as no coinciden"}});case 12:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(r)),i({userName:"",email:"",password:"",confirmPassword:"",isAdmin:""})},children:[Object(Z.jsxs)("div",{children:[Object(Z.jsx)("section",{children:Object(Z.jsx)("input",{value:r.userName,type:"text",placeholder:"Nombre De Usuario",name:"userName",onChange:s})}),Object(Z.jsx)("section",{children:Object(Z.jsx)("input",{value:r.email,type:"email",placeholder:"Email",name:"email",onChange:s})}),Object(Z.jsx)("section",{children:Object(Z.jsx)("input",{value:r.password,type:"password",placeholder:"Password",name:"password",onChange:s})}),Object(Z.jsx)("section",{children:Object(Z.jsx)("input",{value:r.confirmPassword,type:"password",placeholder:"confirmPassword",name:"confirmPassword",onChange:s})}),Object(Z.jsx)("section",{children:Object(Z.jsx)("input",{value:r.isAdmin,type:"password",placeholder:"Clave de administrador",name:"isAdmin",onChange:s})})]}),Object(Z.jsx)("input",{type:"submit",value:"Agregar"}),Object(Z.jsx)("div",{children:t.message})]})})}var Ve=a(81),ze=a.n(Ve),$e=Object(ce.a)({item:{marginLeft:"auto",display:"flex",justifyContent:"space-between",marginTop:"10px",alignItems:"center",background:"#f3f6f7"},image:{height:150,display:"flex",justifyContent:"space-between"}}),Xe=function(e){var t=e.product,a=$e(),c=Object(o.b)(),r=Object(W.e)(),i=Object(n.useState)(t.qty),s=Object(q.a)(i,2),u=s[0],l=s[1];return Object(Z.jsxs)(Y.a,{className:a.item,children:[Object(Z.jsx)("div",{children:Object(Z.jsx)("img",{className:a.image,src:t.image,alt:t.name})}),Object(Z.jsx)(F.a,{variant:"span",children:t.name}),Object(Z.jsxs)(F.a,{variant:"span",children:["$",t.price]}),Object(Z.jsx)(z.a,{type:"number",label:"cantidad",value:u,onChange:function(e){var a,n,r=e.target.value;l(r),c((a=t.uuid,n=u,function(e,t){e({type:w,payload:{productId:a,qty:n}}),localStorage.setItem("cart",JSON.stringify(t().cart.cartItems))}))}}),Object(Z.jsx)($.a,{variant:"contained",onClick:function(){return c((e=t.uuid,function(t,a){t({type:C,payload:e}),v("Eliminado","success","OK",1e3),localStorage.setItem("cart",JSON.stringify(a().cart.cartItems))}),r.push("/"),r.push("/cart"),window.scrollTo(0,0));var e},children:Object(Z.jsx)(oe.a,{children:Object(Z.jsx)(ze.a,{})})})]})},Qe=function(){var e,t=Object(n.useState)(0),a=Object(q.a)(t,2),c=a[0],r=a[1],i=localStorage.getItem("cart"),o=JSON.parse(i),s=0,u=Object(Ke.a)(o);try{for(u.s();!(e=u.n()).done;){var l=e.value;s+=l.price*l.qty}}catch(d){u.e(d)}finally{u.f()}return Object(n.useEffect)((function(){r(s)}),[]),Object(Z.jsxs)(Y.a,{children:[Object(Z.jsxs)(F.a,{children:[" Total: ",c]}),Object(Z.jsx)($.a,{children:"Comprar"})]})},Ze=Object(ce.a)({cart:{marginLeft:"0px"},title:{color:"gray"}}),et=function(){var e=Ze(),t=Object(o.b)(),a=localStorage.getItem("cart"),n=JSON.parse(a),c=Object(W.e)();return Object(Z.jsxs)(Y.a,{className:e.cart,children:[Object(Z.jsx)("div",{children:Object(Z.jsx)("h4",{className:e.title,children:"Mis Productos"})})," ",Object(Z.jsx)("hr",{}),Object(Z.jsx)(Y.a,{children:Object(Z.jsx)(Y.a,{children:n.map((function(e){return Object(Z.jsx)(Xe,{product:e})}))})}),Object(Z.jsx)("hr",{}),Object(Z.jsx)($.a,{variant:"contained",onClick:function(){return t((function(e,t){e({type:E,payload:[]}),v("Vaciado","success","OK",1e3),localStorage.setItem("cart",JSON.stringify(t().cart.cartItems))}),c.push("/"),c.push("/cart"),window.scrollTo(0,0))},children:"Vaciar Carrito"}),Object(Z.jsx)(Y.a,{})]})};var tt=function(){return Object(Z.jsx)("div",{children:Object(Z.jsx)("img",{src:"https://www.gutmicrobiotaforhealth.com/wp-content/uploads/2018/07/post_gut_microbiota_personalised_nutrition.jpg",alt:"Background img"})})},at=function(){return Object(Z.jsxs)(c.a.Fragment,{children:[Object(Z.jsx)(W.a,{path:"/",component:ge}),Object(Z.jsx)(W.a,{exact:!0,path:"/",component:tt}),Object(Z.jsx)(W.a,{exact:!0,path:"/products",component:qe}),Object(Z.jsx)(W.a,{path:"/product/detail",component:Be}),Object(Z.jsx)(W.a,{exact:!0,path:"/category/add",component:te}),Object(Z.jsx)(W.a,{exact:!0,path:"/product/add",component:Ye}),Object(Z.jsx)(W.a,{path:"/products/search",component:Fe}),Object(Z.jsx)(W.a,{exact:!0,path:"/user/add",component:He}),Object(Z.jsx)(W.a,{exact:!0,path:"/cart",component:et}),Object(Z.jsx)(W.a,{exact:!0,path:"/cart",component:Qe})]})};J.a.config(),u.a.defaults.baseURL=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_API||"http://localhost:3001",i.a.render(Object(Z.jsx)(o.a,{store:D,children:Object(Z.jsx)(P.a,{theme:G,children:Object(Z.jsx)(A.a,{children:Object(Z.jsx)(at,{})})})}),document.getElementById("root"))}},[[170,1,2]]]);
//# sourceMappingURL=main.6bcdb458.chunk.js.map